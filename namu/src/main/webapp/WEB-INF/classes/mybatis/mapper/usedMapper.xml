<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.forest.namu.mapper.UsedMapper">

<!-- 추가 -->
<insert id="insertUsed" parameterType="com.forest.namu.domain.Used">
	insert into used(num, subject, content, price, regDate, hitCount, state, nickName, userId) 
		values(used_seq.nextval, #{subject}, #{content}, #{price}, sysdate, 0, 0, #{nickName}, #{userId}
</insert>

<!-- 수정 -->
<update id="updateUsed" parameterType="com.forest.namu.domain.Used">
	update used set subject=#{subject}, content=#{content}, price=#{price}, state=#{state}
	where num = #{num}
</update>

<!-- 삭제 -->
<delete id="deleteUsed" parameterType="com.forest.namu.domain.Used">
	delete from used where num=#{num}
</delete>

<!-- 리스트 -->
<select id="listUsed" parameterType="map" resultType="com.forest.namu.domain.Used">
	select nickName, subject, to_char(regDate, 'YYYY-MM-DD')regDate, hitCount
	from used
	
</select>

<!-- 개수 -->
<select id="dataCount" parameterType="map" resultType="Integer">

</select>

<!-- 조회수 -->
<select id="updateHitCount" parameterType="Long">

</select>

<!-- 글보기 -->
<select id="findById" parameterType="Long" resultType="com.forest.namu.domain.Used">

</select>

</mapper>