<?xml version="1.0" encoding="UTF-8"?>

<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.forest.namu.mapper.RentCRMapper">
	
	<select id="rentConfirmSeq" resultType="Long">
		SELECT rentConfirm_seq.NEXTVAL FROM dual
	</select>

	<insert id="insertRentConfirm" parameterType="com.forest.namu.domain.RentCR">
        INSERT INTO rentConfirm (
            reqNum, rentNum, userId, reqDate, strDate, endDate, 
            agree, deposit, state, totalPrice
        ) VALUES (
            #{reqNum}, #{rentNum}, #{userId}, SYSDATE, 
            TO_DATE(#{strDate}, 'YYYY-MM-DD"T"HH24:MI'), 
            TO_DATE(#{endDate}, 'YYYY-MM-DD"T"HH24:MI'), 
            #{agree}, #{deposit}, #{state}, #{totalPrice}
        )
    </insert>

</mapper>